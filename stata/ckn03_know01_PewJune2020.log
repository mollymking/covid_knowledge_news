--------------------------------------------------------------------------------
      name:  ckn03_know01_PewJune2020
       log:  /Users/mmking/Documents/SocResearch/COVID_Knowledge_News/covid_know
> ledge_news/stata/ckn03_know01_PewJune2020.log
  log type:  text
 opened on:  20 Mar 2023, 13:13:56

. ***-----------------------------***
. 
. //      project:        Knowledge of COVID & News Sources
. //  task:       Create Knowledge Variables - June Knowledge Questions
. /*  data:    */ di "`dataset'"
01_PewJune2020

. 
. //  github:     covid_knowledge_news
. //  OSF:                https://osf.io/qf624/
. 
. //  author:     Molly King
. 
. display "$S_DATE  $S_TIME"
20 Mar 2023  13:13:56

. 
. ***--------------------------***
. // # PROGRAM SETUP
. ***-----------------------------***
. 
. version 16 // keeps program consistent for future replications

. set linesize 80

. clear all

. set more off

. 
. use $deriv/ckn02_demg`dataset'.dta, clear
(01_PewJune2020 Demographics)

. save $deriv/ckn`category'`dataset'.dta, replace // data that results at end
file ~/Documents/SocResearch/COVID_Knowledge_News/data/data_derv/ckn03_know01_Pe
> wJune2020.dta saved

. 
. ***-----------------------------***
. 
. *variable labels
. include $stata/ckn03_know00_include_variableLabels.doi

. *! include file to create general variable labels for Knowledge do files
. *! version 2.0 \ molly king 2017-01-18
. 
. label define tFalse 1 "1_True" 2 "2_False *" 8 "8_Don't Know"  9 "Refused"

. label define fTrue 1 "1_True *" 2 "2_False" 8 "8_Don't Know" 9 "Refused"

. label define knows 1 "Correct" 2 "Incorrect" 8 "Don't know"  9 "Refused"

. 
. label define ac 0 "0_NoAttemptAnswer" 1 "1_Attempted&Correct"

. label define c 0 "0_Incorrect" 1 "1_Correct"

. label define dk 0 "0_knows" 1 "1_dontKnow"

. * _c after a variable says it is a binary indicator variable where
.     * 0 means "incorrect" and 1 means "correct"
. 
. 
. local refused_code = 99 // refused

. local notascer_code none

. 
. ***--------------------------***
. // KNOWLEDGE VARIABLE CREATION
. ***-----------------------------***
. 
. 
. // COVIDSTYHM
. *As far as you know, how did states in the U.S. respond during the coronavirus
>  outbreak?
. local var_repl covidstyhm_w68

. local new_var stateresponse

. 
. tab `var_repl', m

COVIDSTYHM_W68. As far as you know, how |
  did states in the U.S. respond during |
                                     th |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
Every state in the U.S. has had a state |      2,483       25.72       25.72
Some states in the U.S. have not had a  |      5,886       60.97       86.69
                               Not sure |      1,237       12.81       99.50
                                Refused |         48        0.50      100.00
----------------------------------------+-----------------------------------
                                  Total |      9,654      100.00

. tab `var_repl', m nolab

COVIDSTYHM_ |
W68. As far |
     as you |
  know, how |
 did states |
in the U.S. |
    respond |
  during th |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |      2,483       25.72       25.72
          2 |      5,886       60.97       86.69
          3 |      1,237       12.81       99.50
         99 |         48        0.50      100.00
------------+-----------------------------------
      Total |      9,654      100.00

. 
. local dk_code = 3 // don't know

. local var_type ICDR

. 
. include $stata/ckn03_know00_include_IC.doi

. *! Creates:
.         *! attempted and correct variable: binary 1 = correct, given did not s
> ay `don't know'
.         *! correct/incorrect variable: binary 1 = correct, including all those
>  who said `don't know' as incorrect
.         *! don't know variable: binary 1 = `don't know', 0 = attempted answer
. *! include file to create new_var from var_repl using info from var_type
. *! and produces a variable indicating number of choices available
. *! version 3.0 \ molly king 2020-10-08
. 
. 
. *quietly :
.         clonevar `new_var'_ac = `var_repl'

.         replace `new_var'_ac = .
(9,654 real changes made, 9,654 to missing)

.         
.         clonevar `new_var'_c = `var_repl'

.         replace `new_var'_c = .
(9,654 real changes made, 9,654 to missing)

.         
.         clonevar `new_var'_dk = `var_repl'

.         replace `new_var'_dk = .
(9,654 real changes made, 9,654 to missing)

. 
.                 
. // BINARY ORIGINAL VARIABLE
. 
. *correct = 1; incorrect = 2
. if  "`var_type'" == "CI"   | "`var_type'" == "CI00" | "`var_type'" == "CI0"  |
>  "`var_type'" == "CIA"  | ///
>         "`var_type'" == "CIO"  | "`var_type'" == "CIOR" | "`var_type'" == "CIO
> D" | "`var_type'" == "CIODR" | ///
>         "`var_type'" == "CI0D" | "`var_type'" == "CID"  | "`var_type'" == "CID
> R" | "`var_type'" == "CIDRA" | "`var_type'" == "CIDA" | ///
>         "`var_type'" == "CIR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 1 
.         replace `new_var'_ac = 0 if `var_repl' == 2
.         
.         replace `new_var'_c = 1 if `var_repl' == 2 
.         replace `new_var'_c = 0 if `var_repl' == 1
. }

. 
. *correct = 2; incorrect = 1
. if  "`var_type'" == "IC"   | "`var_type'" == "IC00" | "`var_type'" == "IC0"  |
>  "`var_type'" == "ICA"  |  ///
>         "`var_type'" == "ICO"  | "`var_type'" == "ICOR" | "`var_type'" == "ICO
> D" | "`var_type'" == "ICODR" | ///
>         "`var_type'" == "IC0D" | "`var_type'" == "ICD"  | "`var_type'" == "ICD
> R" | "`var_type'" == "ICDRA" | ///
>         "`var_type'" == "ICR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 2 
(5,886 real changes made)
.         replace `new_var'_ac = 0 if `var_repl' == 1
(2,483 real changes made)
. 
.         replace `new_var'_c = 1 if `var_repl' == 2 
(5,886 real changes made)
.         replace `new_var'_c = 0 if `var_repl' == 1
(2,483 real changes made)
. }

. 
. *if don't know (or no opinion) = 3
. if  "`var_type'" == "CIA" | "`var_type'" == "CID" | "`var_type'" == "CIDA" |"`
> var_type'" == "CI0D" | "`var_type'" == "CIDR" | "`var_type'" == "CIDRA" | ///
>         "`var_type'" == "CIO" | "`var_type'" == "CIOR" | "`var_type'" == "CIOD
> " | "`var_type'" == "CIODR" | "`var_type'" == "CIR" | ///
>         "`var_type'" == "ICA" | "`var_type'" == "ICD" | "`var_type'" == "IC0D"
>  | "`var_type'" == "ICDR" | "`var_type'" == "ICDRA" |     ///
>         "`var_type'" == "ICO" | "`var_type'" == "ICOR" | "`var_type'" == "ICOD
> " | "`var_type'" == "ICODR" | "`var_type'" == "ICR" {
.         replace `new_var'_dk = 1 if `var_repl' == 3 
(1,237 real changes made)
.         replace `new_var'_c = 0 if `var_repl' == 3 
(1,237 real changes made)
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'
(0 real changes made)
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'
(0 real changes made)
.         }
.         if "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
(48 real changes made)
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
(48 real changes made)
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2
(8,369 real changes made)
. }

. 
. 
. // MULTIPLE CHOICE WITH 3 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect =2,3; (no opinion 4 / don't know 4)
. if  "`var_type'" == "CII0" | "`var_type'" == "CII"   | ///
>         "`var_type'" == "CIIO" | "`var_type'" == "CIIOD" | "`var_type'" == "CI
> IOR" | "`var_type'" == "CIIODR" |  ///
>         "`var_type'" == "CIID" | "`var_type'" == "CIIDR" | "`var_type'" == "CI
> IDRA"| ///
>         "`var_type'" == "CIIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3
. }

. 
. *correct = 2; incorrect =1,3; (no opinion 4 / don't know 4)
. if  "`var_type'" == "ICI0" | "`var_type'" == "ICI" | ///
>         "`var_type'" == "ICIO" | "`var_type'" == "ICIOD" | "`var_type'" == "IC
> IOR" | "`var_type'" == "ICIODR" |  ///
>         "`var_type'" == "ICID" | "`var_type'" == "ICIDR" | "`var_type'" == "IC
> IDRA"| ///
>         "`var_type'" == "ICIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3
. }

. 
. *correct = 3; incorrect =1,2; (no opinion 4 / don't know 4)
. if  "`var_type'" == "IIC0" | "`var_type'" == "IIC"   | ///
>         "`var_type'" == "IICO" | "`var_type'" == "IICOD" | "`var_type'" == "II
> COR" | "`var_type'" == "IICODR" |  ///
>         "`var_type'" == "IICD" | "`var_type'" == "IICDR" | "`var_type'" == "II
> CDRA" | ///
>         "`var_type'" == "IICR" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2
. }

. 
. *don't know (or no opinion)= 4
. if  "`var_type'" == "CIID"  | "`var_type'" == "CIIDR" | "`var_type'" == "CIIDR
> A" | "`var_type'" == "CIIO" | ///
>         "`var_type'" == "CIIOD" | "`var_type'" == "CIIOR" | "`var_type'" == "C
> IIODR" | "`var_type'" == "CIIR" | ///
>         "`var_type'" == "ICID"  | "`var_type'" == "ICIDR" | "`var_type'" == "I
> CIDRA" | "`var_type'" == "ICIO" | ///
>         "`var_type'" == "ICIOD" | "`var_type'" == "ICIOR" | "`var_type'" == "I
> CIODR" | "`var_type'" == "ICIR" | ///
>         "`var_type'" == "IICD"  | "`var_type'" == "IICDR" | "`var_type'" == "I
> ICDRA" | "`var_type'" == "IICO" | ///
>         "`var_type'" == "IICOD" | "`var_type'" == "IICOR" | "`var_type'" == "I
> ICODR" | "`var_type'" == "IICR" {
.         replace `new_var'_dk = 1 if `var_repl' == 4 
.         replace `new_var'_c = 0 if `var_repl' == 4 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'           
>   
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'            
>   
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3
. }

. 
. 
. // MULTIPLE CHOICE WITH 4 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect = 2,3,4
. if  "`var_type'" == "CIII"  | ///
>         "`var_type'" == "CIIIO" | "`var_type'" == "CIIIOD" | "`var_type'" == "
> CIIIODR" | ///
>         "`var_type'" == "CIIID" | "`var_type'" == "CIIIDR" | "`var_type'" == "
> CIIIDRA" | /// 
>         "`var_type'" == "CIIIR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_re
> pl' == 4
. }

. 
. *correct = 2; incorrect = 1,3,4
. if  "`var_type'" == "ICII"  | ///
>         "`var_type'" == "ICIIO" | "`var_type'" == "ICIIOD" | "`var_type'" == "
> ICIIODR" | ///
>         "`var_type'" == "ICIID" | "`var_type'" == "ICIIDR" | "`var_type'" == "
> ICIIDRA" | ///
>         "`var_type'" == "ICIIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_re
> pl' == 4
. }

. 
. *correct = 3; incorrect = 1,2,4
. if  "`var_type'" == "IICI"  | ///
>         "`var_type'" == "IICIO" | "`var_type'" == "IICIOD" | "`var_type'" == "
> IICIODR" | ///
>         "`var_type'" == "IICID" | "`var_type'" == "IICIDR" | "`var_type'" == "
> IICIDRA" | ///
>         "`var_type'" == "IICIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 4
. }

. 
. *correct = 4; incorrect = 1,2,3
. if  "`var_type'" == "IIIC"  | ///
>         "`var_type'" == "IIICO" | "`var_type'" == "IIICOD" | "`var_type'" == "
> IIICODR" | ///
>         "`var_type'" == "IIICD" | "`var_type'" == "IIICDR" | "`var_type'" == "
> IIICDRA" | ///
>         "`var_type'" == "IIICR" {
.         replace `new_var'_ac = 1 if `var_repl' == 4
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 4
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3
. }

. 
. *don't know (or no opinion) = 5
. if  "`var_type'" == "CIIID" | "`var_type'" == "CIIIDR" | "`var_type'" == "CIII
> DRA" | ///
>         "`var_type'" == "CIIIO" | "`var_type'" == "CIIIOD" | "`var_type'" == "
> CIIIODR" | "`var_type'" == "CIIIR" | ///
>         "`var_type'" == "ICIID" | "`var_type'" == "ICIIDR" | "`var_type'" == "
> ICIIDRA" | ///
>         "`var_type'" == "ICIIO" | "`var_type'" == "ICIIOD" | "`var_type'" == "
> ICIIODR" | "`var_type'" == "ICIIR" | ///
>         "`var_type'" == "IICID" | "`var_type'" == "IICIDR" | "`var_type'" == "
> IICIDRA" | ///
>         "`var_type'" == "IICIO" | "`var_type'" == "IICIOD" | "`var_type'" == "
> IICIODR" | "`var_type'" == "IICIR" | ///
>         "`var_type'" == "IIICD" | "`var_type'" == "IIICDR" | "`var_type'" == "
> IIICDRA" | ///
>         "`var_type'" == "IIICO" | "`var_type'" == "IIICOD" | "`var_type'" == "
> IIICODR" | "`var_type'" == "IIICR" { ///  
>         replace `new_var'_dk = 1 if `var_repl' == 5 
.         replace `new_var'_c = 0 if `var_repl' == 5 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'           
>   
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'            
>   
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4
. }

. 
. 
. // MULTIPLE CHOICE WITH 5 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect = 2,3,4,5
. if  "`var_type'" == "CIIII" | ///
>         "`var_type'" == "CIIIIO" | "`var_type'" == "CIIIIOD" | "`var_type'" ==
>  "CIIIIODR" | ///
>         "`var_type'" == "CIIIID" | "`var_type'" == "CIIIIDR" | "`var_type'" ==
>  "CIIIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 2; incorrect = 1,3,4,5
. if  "`var_type'" == "ICIII" |   "`var_type'" == "ICIIIA" | ///
>         "`var_type'" == "ICIIIO" | "`var_type'" == "ICIIIOD" | "`var_type'" ==
>  "ICIIIODR" | ///
>         "`var_type'" == "ICIIID" | "`var_type'" == "ICIIIDR" | "`var_type'" ==
>  "ICIIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 3; incorrect = 1,2,4,5
. if  "`var_type'" == "IICII" | ///
>         "`var_type'" == "IICIIO" | "`var_type'" == "IICIIOD" | "`var_type'" ==
>  "IICIIODR" | ///
>         "`var_type'" == "IICIID" | "`var_type'" == "IICIIDR" | "`var_type'" ==
>  "IICIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 4; incorrect = 1,2,3,5
. if  "`var_type'" == "IIICI" | ///
>         "`var_type'" == "IIICIO" | "`var_type'" == "IIICIOD" | "`var_type'" ==
>  "IIICIODR" | ///  
>         "`var_type'" == "IIICID" | "`var_type'" == "IIICIDR" |  "`var_type'" =
> = "IIICIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 4
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 4
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 5
. }

. 
. *correct = 5; incorrect = 1,2,3,4
. if  "`var_type'" == "IIIIC" | ///
>         "`var_type'" == "IIIICO" | "`var_type'" == "IIIICOD" | "`var_type'" ==
>  "IIIICODR" | ///  
>         "`var_type'" == "IIIICD" | "`var_type'" == "IIIICDR" | "`var_type'" ==
>  "IIIICDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 5
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 5
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 4        
. }

. 
. *don't know (or no opinion) = 6
. if  "`var_type'" == "CIIIID" | "`var_type'" == "CIIIIDR" | "`var_type'" == "CI
> IIIDRA" | ///
>         "`var_type'" == "CIIIIO" | "`var_type'" == "CIIIIOD" | "`var_type'" ==
>  "CIIIIODR" | ///
>         "`var_type'" == "ICIIID" | "`var_type'" == "ICIIIDR" | "`var_type'" ==
>  "ICIIIDRA" | ///
>         "`var_type'" == "ICIIIO" | "`var_type'" == "ICIIIOD" | "`var_type'" ==
>  "ICIIIODR" | ///
>         "`var_type'" == "ICIIIA" | ///
>         "`var_type'" == "IICIID" | "`var_type'" == "IICIIDR" | "`var_type'" ==
>  "IICIIDRA" | ///
>         "`var_type'" == "IICIIO" | "`var_type'" == "IICIIOD" | "`var_type'" ==
>  "IICIIODR" | ///
>         "`var_type'" == "IIICID" | "`var_type'" == "IIICIDR" | "`var_type'" ==
>  "IIICIDRA" | ///
>         "`var_type'" == "IIICIO" | "`var_type'" == "IIICIOD" | "`var_type'" ==
>  "IIICIODR" | ///  
>         "`var_type'" == "IIIICD" | "`var_type'" == "IIIICDR" | "`var_type'" ==
>  "IIIICDRA" | ///
>         "`var_type'" == "IIIICO" | "`var_type'" == "IIIICOD" | "`var_type'" ==
>  "IIIICODR" {  
.         replace `new_var'_dk = 1 if `var_repl' == 6 
.         replace `new_var'_c = 0 if `var_repl' == 6 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'     
.                 replace `new_var'_c  = 0 if `var_repl' == `dk_code'     
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c  = 0 if `var_repl' == `notascer_code'     
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4 | `var_repl' == 5
. }

. 
. 
. // MULTIPLE CHOICE WITH 6 POSSIBLE ANSWERS
. *correct = 6; incorrect =1,2,3,4,5
. if  "`var_type'" == "IIIIIC" | ///
>         "`var_type'" == "IIIIICD" | "`var_type'" == "IIIIICDR" | "`var_type'" 
> == "IIIIICDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 6
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 6
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 4 | `var_repl' == 5
. }

. 
. if  "`var_type'" == "IIIIIC" | ///
>         "`var_type'" == "IIIIICD" | "`var_type'" == "IIIIICDR" | "`var_type'" 
> == "IIIIICDRA" {
.         replace `new_var'_dk = 1 if `var_repl' == 7
.         replace `new_var'_c = 0 if `var_repl' == 7
.         
.         if "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code'
.         }
.         if "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'
.         }
.         if "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'
.         }
.         replace  `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_
> repl' == 3 | `var_repl' == 4 | `var_repl' == 5 | `var_repl' == 6
. }

. 
. 
. 
. *label for correct variables
. lab val `new_var'_c c

. notes `new_var'_c: Created from `var_repl' in `dataset' \ ki`category'`dataset
> '.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_c, m

                      |  COVIDSTYHM_W68. As
   COVIDSTYHM_W68. As | far as you know, how
 far as you know, how |   did states in the
    did states in the |  U.S. respond during
  U.S. respond during |          th
                   th | 0_Incorre  1_Correct |     Total
----------------------+----------------------+----------
Every state in the U. |     2,483          0 |     2,483 
Some states in the U. |         0      5,886 |     5,886 
             Not sure |     1,237          0 |     1,237 
              Refused |        48          0 |        48 
----------------------+----------------------+----------
                Total |     3,768      5,886 |     9,654 

. 
. *label for attempted variables
. lab val `new_var'_ac ac

. notes `new_var'_ac: Created from `var_repl' in `dataset' \ ki`category'`datase
> t'.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_ac, m

   COVIDSTYHM_W68. As |
 far as you know, how |  COVIDSTYHM_W68. As far as you
    did states in the | know, how did states in the U.S.
  U.S. respond during |        respond during th
                   th | 0_NoAttem  1_Attempt          . |     Total
----------------------+---------------------------------+----------
Every state in the U. |     2,483          0          0 |     2,483 
Some states in the U. |         0      5,886          0 |     5,886 
             Not sure |         0          0      1,237 |     1,237 
              Refused |         0          0         48 |        48 
----------------------+---------------------------------+----------
                Total |     2,483      5,886      1,285 |     9,654 

. 
. *label for don't know variables
. lab val `new_var'_dk dk

. notes `new_var'_dk: Created from `var_repl' in `dataset' \ ki`category'`datase
> t'.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_dk, m

                      |  COVIDSTYHM_W68. As
   COVIDSTYHM_W68. As | far as you know, how
 far as you know, how |   did states in the
    did states in the |  U.S. respond during
  U.S. respond during |          th
                   th |   0_knows  1_dontKno |     Total
----------------------+----------------------+----------
Every state in the U. |     2,483          0 |     2,483 
Some states in the U. |     5,886          0 |     5,886 
             Not sure |         0      1,237 |     1,237 
              Refused |         0         48 |        48 
----------------------+----------------------+----------
                Total |     8,369      1,285 |     9,654 

. 
. label var `new_var'_c "correct, including don't knows: How did states in the U
> .S. respond during the coronavirus outbreak?"
note: label truncated to 80 characters

. label var `new_var'_ac "correct, given attempted: How did states in the U.S. r
> espond during the coronavirus outbreak?"
note: label truncated to 80 characters

. label var `new_var'_dk "Not sure -  how did states in the U.S. respond during 
> the coronavirus outbreak?"

. 
. 
. /*
> // COVIDUNEMPLOY
> *Is the national unemployment rate as reported by the government currently
> local var_repl  covidunemploy_w68
> local new_var unemploy
> 
> tab `var_repl', m
> tab `var_repl', m nolab
> 
> local dk_code = 9 // don't know
> local var_type IICIIDR
> 
> include $stata/ckn03_know00_include_IC.doi
> label var `new_var'_c "correct, including don't knows: National unemployment r
> ate as reported by the government currently around 15%"
> label var `new_var'_ac "correct, given attempted: National unemployment rate a
> s reported by the government currently around 15%"
> label var `new_var'_dk "Not sure -  national unemployment rate as reported by 
> the government currently ~15%"
> */
. 
. // COVIDANTIBODIES
. *As far as you know, are antibody tests for the coronavirus (also known as ser
> ology tests) intended to detect…
. local var_repl covidantibodies_w68

. local new_var antibody

. 
. tab `var_repl', m

COVIDANTIBODIES_W68. |
 As far as you know, |
  are antibody tests |
for the coronavirus  |      Freq.     Percent        Cum.
---------------------+-----------------------------------
 A current infection |        932        9.65        9.65
A previous infection |      6,884       71.31       80.96
            Not sure |      1,796       18.60       99.56
             Refused |         42        0.44      100.00
---------------------+-----------------------------------
               Total |      9,654      100.00

. tab `var_repl', m nolab

COVIDANTIBO |
  DIES_W68. |
  As far as |
  you know, |
        are |
   antibody |
  tests for |
        the |
coronavirus |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |        932        9.65        9.65
          2 |      6,884       71.31       80.96
          3 |      1,796       18.60       99.56
         99 |         42        0.44      100.00
------------+-----------------------------------
      Total |      9,654      100.00

. 
. local dk_code = 3 // don't know

. local var_type ICDR

. 
. include $stata/ckn03_know00_include_IC.doi

. *! Creates:
.         *! attempted and correct variable: binary 1 = correct, given did not s
> ay `don't know'
.         *! correct/incorrect variable: binary 1 = correct, including all those
>  who said `don't know' as incorrect
.         *! don't know variable: binary 1 = `don't know', 0 = attempted answer
. *! include file to create new_var from var_repl using info from var_type
. *! and produces a variable indicating number of choices available
. *! version 3.0 \ molly king 2020-10-08
. 
. 
. *quietly :
.         clonevar `new_var'_ac = `var_repl'

.         replace `new_var'_ac = .
(9,654 real changes made, 9,654 to missing)

.         
.         clonevar `new_var'_c = `var_repl'

.         replace `new_var'_c = .
(9,654 real changes made, 9,654 to missing)

.         
.         clonevar `new_var'_dk = `var_repl'

.         replace `new_var'_dk = .
(9,654 real changes made, 9,654 to missing)

. 
.                 
. // BINARY ORIGINAL VARIABLE
. 
. *correct = 1; incorrect = 2
. if  "`var_type'" == "CI"   | "`var_type'" == "CI00" | "`var_type'" == "CI0"  |
>  "`var_type'" == "CIA"  | ///
>         "`var_type'" == "CIO"  | "`var_type'" == "CIOR" | "`var_type'" == "CIO
> D" | "`var_type'" == "CIODR" | ///
>         "`var_type'" == "CI0D" | "`var_type'" == "CID"  | "`var_type'" == "CID
> R" | "`var_type'" == "CIDRA" | "`var_type'" == "CIDA" | ///
>         "`var_type'" == "CIR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 1 
.         replace `new_var'_ac = 0 if `var_repl' == 2
.         
.         replace `new_var'_c = 1 if `var_repl' == 2 
.         replace `new_var'_c = 0 if `var_repl' == 1
. }

. 
. *correct = 2; incorrect = 1
. if  "`var_type'" == "IC"   | "`var_type'" == "IC00" | "`var_type'" == "IC0"  |
>  "`var_type'" == "ICA"  |  ///
>         "`var_type'" == "ICO"  | "`var_type'" == "ICOR" | "`var_type'" == "ICO
> D" | "`var_type'" == "ICODR" | ///
>         "`var_type'" == "IC0D" | "`var_type'" == "ICD"  | "`var_type'" == "ICD
> R" | "`var_type'" == "ICDRA" | ///
>         "`var_type'" == "ICR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 2 
(6,884 real changes made)
.         replace `new_var'_ac = 0 if `var_repl' == 1
(932 real changes made)
. 
.         replace `new_var'_c = 1 if `var_repl' == 2 
(6,884 real changes made)
.         replace `new_var'_c = 0 if `var_repl' == 1
(932 real changes made)
. }

. 
. *if don't know (or no opinion) = 3
. if  "`var_type'" == "CIA" | "`var_type'" == "CID" | "`var_type'" == "CIDA" |"`
> var_type'" == "CI0D" | "`var_type'" == "CIDR" | "`var_type'" == "CIDRA" | ///
>         "`var_type'" == "CIO" | "`var_type'" == "CIOR" | "`var_type'" == "CIOD
> " | "`var_type'" == "CIODR" | "`var_type'" == "CIR" | ///
>         "`var_type'" == "ICA" | "`var_type'" == "ICD" | "`var_type'" == "IC0D"
>  | "`var_type'" == "ICDR" | "`var_type'" == "ICDRA" |     ///
>         "`var_type'" == "ICO" | "`var_type'" == "ICOR" | "`var_type'" == "ICOD
> " | "`var_type'" == "ICODR" | "`var_type'" == "ICR" {
.         replace `new_var'_dk = 1 if `var_repl' == 3 
(1,796 real changes made)
.         replace `new_var'_c = 0 if `var_repl' == 3 
(1,796 real changes made)
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'
(0 real changes made)
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'
(0 real changes made)
.         }
.         if "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
(42 real changes made)
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
(42 real changes made)
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2
(7,816 real changes made)
. }

. 
. 
. // MULTIPLE CHOICE WITH 3 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect =2,3; (no opinion 4 / don't know 4)
. if  "`var_type'" == "CII0" | "`var_type'" == "CII"   | ///
>         "`var_type'" == "CIIO" | "`var_type'" == "CIIOD" | "`var_type'" == "CI
> IOR" | "`var_type'" == "CIIODR" |  ///
>         "`var_type'" == "CIID" | "`var_type'" == "CIIDR" | "`var_type'" == "CI
> IDRA"| ///
>         "`var_type'" == "CIIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3
. }

. 
. *correct = 2; incorrect =1,3; (no opinion 4 / don't know 4)
. if  "`var_type'" == "ICI0" | "`var_type'" == "ICI" | ///
>         "`var_type'" == "ICIO" | "`var_type'" == "ICIOD" | "`var_type'" == "IC
> IOR" | "`var_type'" == "ICIODR" |  ///
>         "`var_type'" == "ICID" | "`var_type'" == "ICIDR" | "`var_type'" == "IC
> IDRA"| ///
>         "`var_type'" == "ICIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3
. }

. 
. *correct = 3; incorrect =1,2; (no opinion 4 / don't know 4)
. if  "`var_type'" == "IIC0" | "`var_type'" == "IIC"   | ///
>         "`var_type'" == "IICO" | "`var_type'" == "IICOD" | "`var_type'" == "II
> COR" | "`var_type'" == "IICODR" |  ///
>         "`var_type'" == "IICD" | "`var_type'" == "IICDR" | "`var_type'" == "II
> CDRA" | ///
>         "`var_type'" == "IICR" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2
. }

. 
. *don't know (or no opinion)= 4
. if  "`var_type'" == "CIID"  | "`var_type'" == "CIIDR" | "`var_type'" == "CIIDR
> A" | "`var_type'" == "CIIO" | ///
>         "`var_type'" == "CIIOD" | "`var_type'" == "CIIOR" | "`var_type'" == "C
> IIODR" | "`var_type'" == "CIIR" | ///
>         "`var_type'" == "ICID"  | "`var_type'" == "ICIDR" | "`var_type'" == "I
> CIDRA" | "`var_type'" == "ICIO" | ///
>         "`var_type'" == "ICIOD" | "`var_type'" == "ICIOR" | "`var_type'" == "I
> CIODR" | "`var_type'" == "ICIR" | ///
>         "`var_type'" == "IICD"  | "`var_type'" == "IICDR" | "`var_type'" == "I
> ICDRA" | "`var_type'" == "IICO" | ///
>         "`var_type'" == "IICOD" | "`var_type'" == "IICOR" | "`var_type'" == "I
> ICODR" | "`var_type'" == "IICR" {
.         replace `new_var'_dk = 1 if `var_repl' == 4 
.         replace `new_var'_c = 0 if `var_repl' == 4 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'           
>   
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'            
>   
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3
. }

. 
. 
. // MULTIPLE CHOICE WITH 4 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect = 2,3,4
. if  "`var_type'" == "CIII"  | ///
>         "`var_type'" == "CIIIO" | "`var_type'" == "CIIIOD" | "`var_type'" == "
> CIIIODR" | ///
>         "`var_type'" == "CIIID" | "`var_type'" == "CIIIDR" | "`var_type'" == "
> CIIIDRA" | /// 
>         "`var_type'" == "CIIIR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_re
> pl' == 4
. }

. 
. *correct = 2; incorrect = 1,3,4
. if  "`var_type'" == "ICII"  | ///
>         "`var_type'" == "ICIIO" | "`var_type'" == "ICIIOD" | "`var_type'" == "
> ICIIODR" | ///
>         "`var_type'" == "ICIID" | "`var_type'" == "ICIIDR" | "`var_type'" == "
> ICIIDRA" | ///
>         "`var_type'" == "ICIIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_re
> pl' == 4
. }

. 
. *correct = 3; incorrect = 1,2,4
. if  "`var_type'" == "IICI"  | ///
>         "`var_type'" == "IICIO" | "`var_type'" == "IICIOD" | "`var_type'" == "
> IICIODR" | ///
>         "`var_type'" == "IICID" | "`var_type'" == "IICIDR" | "`var_type'" == "
> IICIDRA" | ///
>         "`var_type'" == "IICIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 4
. }

. 
. *correct = 4; incorrect = 1,2,3
. if  "`var_type'" == "IIIC"  | ///
>         "`var_type'" == "IIICO" | "`var_type'" == "IIICOD" | "`var_type'" == "
> IIICODR" | ///
>         "`var_type'" == "IIICD" | "`var_type'" == "IIICDR" | "`var_type'" == "
> IIICDRA" | ///
>         "`var_type'" == "IIICR" {
.         replace `new_var'_ac = 1 if `var_repl' == 4
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 4
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3
. }

. 
. *don't know (or no opinion) = 5
. if  "`var_type'" == "CIIID" | "`var_type'" == "CIIIDR" | "`var_type'" == "CIII
> DRA" | ///
>         "`var_type'" == "CIIIO" | "`var_type'" == "CIIIOD" | "`var_type'" == "
> CIIIODR" | "`var_type'" == "CIIIR" | ///
>         "`var_type'" == "ICIID" | "`var_type'" == "ICIIDR" | "`var_type'" == "
> ICIIDRA" | ///
>         "`var_type'" == "ICIIO" | "`var_type'" == "ICIIOD" | "`var_type'" == "
> ICIIODR" | "`var_type'" == "ICIIR" | ///
>         "`var_type'" == "IICID" | "`var_type'" == "IICIDR" | "`var_type'" == "
> IICIDRA" | ///
>         "`var_type'" == "IICIO" | "`var_type'" == "IICIOD" | "`var_type'" == "
> IICIODR" | "`var_type'" == "IICIR" | ///
>         "`var_type'" == "IIICD" | "`var_type'" == "IIICDR" | "`var_type'" == "
> IIICDRA" | ///
>         "`var_type'" == "IIICO" | "`var_type'" == "IIICOD" | "`var_type'" == "
> IIICODR" | "`var_type'" == "IIICR" { ///  
>         replace `new_var'_dk = 1 if `var_repl' == 5 
.         replace `new_var'_c = 0 if `var_repl' == 5 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'           
>   
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'            
>   
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4
. }

. 
. 
. // MULTIPLE CHOICE WITH 5 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect = 2,3,4,5
. if  "`var_type'" == "CIIII" | ///
>         "`var_type'" == "CIIIIO" | "`var_type'" == "CIIIIOD" | "`var_type'" ==
>  "CIIIIODR" | ///
>         "`var_type'" == "CIIIID" | "`var_type'" == "CIIIIDR" | "`var_type'" ==
>  "CIIIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 2; incorrect = 1,3,4,5
. if  "`var_type'" == "ICIII" |   "`var_type'" == "ICIIIA" | ///
>         "`var_type'" == "ICIIIO" | "`var_type'" == "ICIIIOD" | "`var_type'" ==
>  "ICIIIODR" | ///
>         "`var_type'" == "ICIIID" | "`var_type'" == "ICIIIDR" | "`var_type'" ==
>  "ICIIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 3; incorrect = 1,2,4,5
. if  "`var_type'" == "IICII" | ///
>         "`var_type'" == "IICIIO" | "`var_type'" == "IICIIOD" | "`var_type'" ==
>  "IICIIODR" | ///
>         "`var_type'" == "IICIID" | "`var_type'" == "IICIIDR" | "`var_type'" ==
>  "IICIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 4; incorrect = 1,2,3,5
. if  "`var_type'" == "IIICI" | ///
>         "`var_type'" == "IIICIO" | "`var_type'" == "IIICIOD" | "`var_type'" ==
>  "IIICIODR" | ///  
>         "`var_type'" == "IIICID" | "`var_type'" == "IIICIDR" |  "`var_type'" =
> = "IIICIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 4
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 4
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 5
. }

. 
. *correct = 5; incorrect = 1,2,3,4
. if  "`var_type'" == "IIIIC" | ///
>         "`var_type'" == "IIIICO" | "`var_type'" == "IIIICOD" | "`var_type'" ==
>  "IIIICODR" | ///  
>         "`var_type'" == "IIIICD" | "`var_type'" == "IIIICDR" | "`var_type'" ==
>  "IIIICDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 5
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 5
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 4        
. }

. 
. *don't know (or no opinion) = 6
. if  "`var_type'" == "CIIIID" | "`var_type'" == "CIIIIDR" | "`var_type'" == "CI
> IIIDRA" | ///
>         "`var_type'" == "CIIIIO" | "`var_type'" == "CIIIIOD" | "`var_type'" ==
>  "CIIIIODR" | ///
>         "`var_type'" == "ICIIID" | "`var_type'" == "ICIIIDR" | "`var_type'" ==
>  "ICIIIDRA" | ///
>         "`var_type'" == "ICIIIO" | "`var_type'" == "ICIIIOD" | "`var_type'" ==
>  "ICIIIODR" | ///
>         "`var_type'" == "ICIIIA" | ///
>         "`var_type'" == "IICIID" | "`var_type'" == "IICIIDR" | "`var_type'" ==
>  "IICIIDRA" | ///
>         "`var_type'" == "IICIIO" | "`var_type'" == "IICIIOD" | "`var_type'" ==
>  "IICIIODR" | ///
>         "`var_type'" == "IIICID" | "`var_type'" == "IIICIDR" | "`var_type'" ==
>  "IIICIDRA" | ///
>         "`var_type'" == "IIICIO" | "`var_type'" == "IIICIOD" | "`var_type'" ==
>  "IIICIODR" | ///  
>         "`var_type'" == "IIIICD" | "`var_type'" == "IIIICDR" | "`var_type'" ==
>  "IIIICDRA" | ///
>         "`var_type'" == "IIIICO" | "`var_type'" == "IIIICOD" | "`var_type'" ==
>  "IIIICODR" {  
.         replace `new_var'_dk = 1 if `var_repl' == 6 
.         replace `new_var'_c = 0 if `var_repl' == 6 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'     
.                 replace `new_var'_c  = 0 if `var_repl' == `dk_code'     
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c  = 0 if `var_repl' == `notascer_code'     
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4 | `var_repl' == 5
. }

. 
. 
. // MULTIPLE CHOICE WITH 6 POSSIBLE ANSWERS
. *correct = 6; incorrect =1,2,3,4,5
. if  "`var_type'" == "IIIIIC" | ///
>         "`var_type'" == "IIIIICD" | "`var_type'" == "IIIIICDR" | "`var_type'" 
> == "IIIIICDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 6
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 6
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 4 | `var_repl' == 5
. }

. 
. if  "`var_type'" == "IIIIIC" | ///
>         "`var_type'" == "IIIIICD" | "`var_type'" == "IIIIICDR" | "`var_type'" 
> == "IIIIICDRA" {
.         replace `new_var'_dk = 1 if `var_repl' == 7
.         replace `new_var'_c = 0 if `var_repl' == 7
.         
.         if "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code'
.         }
.         if "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'
.         }
.         if "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'
.         }
.         replace  `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_
> repl' == 3 | `var_repl' == 4 | `var_repl' == 5 | `var_repl' == 6
. }

. 
. 
. 
. *label for correct variables
. lab val `new_var'_c c

. notes `new_var'_c: Created from `var_repl' in `dataset' \ ki`category'`dataset
> '.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_c, m

                     | COVIDANTIBODIES_W68.
COVIDANTIBODIES_W68. |  As far as you know,
 As far as you know, |  are antibody tests
  are antibody tests | for the coronavirus 
for the coronavirus  | 0_Incorre  1_Correct |     Total
---------------------+----------------------+----------
 A current infection |       932          0 |       932 
A previous infection |         0      6,884 |     6,884 
            Not sure |     1,796          0 |     1,796 
             Refused |        42          0 |        42 
---------------------+----------------------+----------
               Total |     2,770      6,884 |     9,654 

. 
. *label for attempted variables
. lab val `new_var'_ac ac

. notes `new_var'_ac: Created from `var_repl' in `dataset' \ ki`category'`datase
> t'.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_ac, m

COVIDANTIBODIES_W68. |  COVIDANTIBODIES_W68. As far as
 As far as you know, | you know, are antibody tests for
  are antibody tests |         the coronavirus 
for the coronavirus  | 0_NoAttem  1_Attempt          . |     Total
---------------------+---------------------------------+----------
 A current infection |       932          0          0 |       932 
A previous infection |         0      6,884          0 |     6,884 
            Not sure |         0          0      1,796 |     1,796 
             Refused |         0          0         42 |        42 
---------------------+---------------------------------+----------
               Total |       932      6,884      1,838 |     9,654 

. 
. *label for don't know variables
. lab val `new_var'_dk dk

. notes `new_var'_dk: Created from `var_repl' in `dataset' \ ki`category'`datase
> t'.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_dk, m

                     | COVIDANTIBODIES_W68.
COVIDANTIBODIES_W68. |  As far as you know,
 As far as you know, |  are antibody tests
  are antibody tests | for the coronavirus 
for the coronavirus  |   0_knows  1_dontKno |     Total
---------------------+----------------------+----------
 A current infection |       932          0 |       932 
A previous infection |     6,884          0 |     6,884 
            Not sure |         0      1,796 |     1,796 
             Refused |         0         42 |        42 
---------------------+----------------------+----------
               Total |     7,816      1,838 |     9,654 

. 
. label var `new_var'_c "correct, including don't knows: Antibody tests detect p
> revious coronavirus infections"
note: label truncated to 80 characters

. label var `new_var'_ac "correct, given attempted: Antibody tests detect previo
> us coronavirus infections"

. label var `new_var'_dk "Not sure - Antibody tests detect previous coronavirus 
> infections"

. 
. 
. // KNOWFAUCI 
. *Do you happen to know who Anthony Fauci is? 
. *correct = 3
. local var_repl knowfauci_w68

. local new_var fauci

. 
. tab `var_repl', m

   KNOWFAUCI_W68. Do you happen to know |
                  who Anthony Fauci is? |      Freq.     Percent        Cum.
----------------------------------------+-----------------------------------
                 Trumps personal doctor |         45        0.47        0.47
The head of coronavirus response at the |        348        3.60        4.07
An infectious disease expert and govern |      7,934       82.18       86.25
      CNN’s Chief Medical Correspondent |         67        0.69       86.95
                               Not sure |      1,226       12.70       99.65
                                Refused |         34        0.35      100.00
----------------------------------------+-----------------------------------
                                  Total |      9,654      100.00

. tab `var_repl', m nolab

KNOWFAUCI_W |
 68. Do you |
  happen to |
   know who |
    Anthony |
  Fauci is? |      Freq.     Percent        Cum.
------------+-----------------------------------
          1 |         45        0.47        0.47
          2 |        348        3.60        4.07
          3 |      7,934       82.18       86.25
          4 |         67        0.69       86.95
          5 |      1,226       12.70       99.65
         99 |         34        0.35      100.00
------------+-----------------------------------
      Total |      9,654      100.00

. 
. local dk_code = 5 // don't know

. local var_type IICIDR

. 
. include $stata/ckn03_know00_include_IC.doi

. *! Creates:
.         *! attempted and correct variable: binary 1 = correct, given did not s
> ay `don't know'
.         *! correct/incorrect variable: binary 1 = correct, including all those
>  who said `don't know' as incorrect
.         *! don't know variable: binary 1 = `don't know', 0 = attempted answer
. *! include file to create new_var from var_repl using info from var_type
. *! and produces a variable indicating number of choices available
. *! version 3.0 \ molly king 2020-10-08
. 
. 
. *quietly :
.         clonevar `new_var'_ac = `var_repl'

.         replace `new_var'_ac = .
(9,654 real changes made, 9,654 to missing)

.         
.         clonevar `new_var'_c = `var_repl'

.         replace `new_var'_c = .
(9,654 real changes made, 9,654 to missing)

.         
.         clonevar `new_var'_dk = `var_repl'

.         replace `new_var'_dk = .
(9,654 real changes made, 9,654 to missing)

. 
.                 
. // BINARY ORIGINAL VARIABLE
. 
. *correct = 1; incorrect = 2
. if  "`var_type'" == "CI"   | "`var_type'" == "CI00" | "`var_type'" == "CI0"  |
>  "`var_type'" == "CIA"  | ///
>         "`var_type'" == "CIO"  | "`var_type'" == "CIOR" | "`var_type'" == "CIO
> D" | "`var_type'" == "CIODR" | ///
>         "`var_type'" == "CI0D" | "`var_type'" == "CID"  | "`var_type'" == "CID
> R" | "`var_type'" == "CIDRA" | "`var_type'" == "CIDA" | ///
>         "`var_type'" == "CIR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 1 
.         replace `new_var'_ac = 0 if `var_repl' == 2
.         
.         replace `new_var'_c = 1 if `var_repl' == 2 
.         replace `new_var'_c = 0 if `var_repl' == 1
. }

. 
. *correct = 2; incorrect = 1
. if  "`var_type'" == "IC"   | "`var_type'" == "IC00" | "`var_type'" == "IC0"  |
>  "`var_type'" == "ICA"  |  ///
>         "`var_type'" == "ICO"  | "`var_type'" == "ICOR" | "`var_type'" == "ICO
> D" | "`var_type'" == "ICODR" | ///
>         "`var_type'" == "IC0D" | "`var_type'" == "ICD"  | "`var_type'" == "ICD
> R" | "`var_type'" == "ICDRA" | ///
>         "`var_type'" == "ICR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 2 
.         replace `new_var'_ac = 0 if `var_repl' == 1
. 
.         replace `new_var'_c = 1 if `var_repl' == 2 
.         replace `new_var'_c = 0 if `var_repl' == 1
. }

. 
. *if don't know (or no opinion) = 3
. if  "`var_type'" == "CIA" | "`var_type'" == "CID" | "`var_type'" == "CIDA" |"`
> var_type'" == "CI0D" | "`var_type'" == "CIDR" | "`var_type'" == "CIDRA" | ///
>         "`var_type'" == "CIO" | "`var_type'" == "CIOR" | "`var_type'" == "CIOD
> " | "`var_type'" == "CIODR" | "`var_type'" == "CIR" | ///
>         "`var_type'" == "ICA" | "`var_type'" == "ICD" | "`var_type'" == "IC0D"
>  | "`var_type'" == "ICDR" | "`var_type'" == "ICDRA" |     ///
>         "`var_type'" == "ICO" | "`var_type'" == "ICOR" | "`var_type'" == "ICOD
> " | "`var_type'" == "ICODR" | "`var_type'" == "ICR" {
.         replace `new_var'_dk = 1 if `var_repl' == 3 
.         replace `new_var'_c = 0 if `var_repl' == 3 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'
.         }
.         if "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2
. }

. 
. 
. // MULTIPLE CHOICE WITH 3 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect =2,3; (no opinion 4 / don't know 4)
. if  "`var_type'" == "CII0" | "`var_type'" == "CII"   | ///
>         "`var_type'" == "CIIO" | "`var_type'" == "CIIOD" | "`var_type'" == "CI
> IOR" | "`var_type'" == "CIIODR" |  ///
>         "`var_type'" == "CIID" | "`var_type'" == "CIIDR" | "`var_type'" == "CI
> IDRA"| ///
>         "`var_type'" == "CIIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3
. }

. 
. *correct = 2; incorrect =1,3; (no opinion 4 / don't know 4)
. if  "`var_type'" == "ICI0" | "`var_type'" == "ICI" | ///
>         "`var_type'" == "ICIO" | "`var_type'" == "ICIOD" | "`var_type'" == "IC
> IOR" | "`var_type'" == "ICIODR" |  ///
>         "`var_type'" == "ICID" | "`var_type'" == "ICIDR" | "`var_type'" == "IC
> IDRA"| ///
>         "`var_type'" == "ICIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3
. }

. 
. *correct = 3; incorrect =1,2; (no opinion 4 / don't know 4)
. if  "`var_type'" == "IIC0" | "`var_type'" == "IIC"   | ///
>         "`var_type'" == "IICO" | "`var_type'" == "IICOD" | "`var_type'" == "II
> COR" | "`var_type'" == "IICODR" |  ///
>         "`var_type'" == "IICD" | "`var_type'" == "IICDR" | "`var_type'" == "II
> CDRA" | ///
>         "`var_type'" == "IICR" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2
. }

. 
. *don't know (or no opinion)= 4
. if  "`var_type'" == "CIID"  | "`var_type'" == "CIIDR" | "`var_type'" == "CIIDR
> A" | "`var_type'" == "CIIO" | ///
>         "`var_type'" == "CIIOD" | "`var_type'" == "CIIOR" | "`var_type'" == "C
> IIODR" | "`var_type'" == "CIIR" | ///
>         "`var_type'" == "ICID"  | "`var_type'" == "ICIDR" | "`var_type'" == "I
> CIDRA" | "`var_type'" == "ICIO" | ///
>         "`var_type'" == "ICIOD" | "`var_type'" == "ICIOR" | "`var_type'" == "I
> CIODR" | "`var_type'" == "ICIR" | ///
>         "`var_type'" == "IICD"  | "`var_type'" == "IICDR" | "`var_type'" == "I
> ICDRA" | "`var_type'" == "IICO" | ///
>         "`var_type'" == "IICOD" | "`var_type'" == "IICOR" | "`var_type'" == "I
> ICODR" | "`var_type'" == "IICR" {
.         replace `new_var'_dk = 1 if `var_repl' == 4 
.         replace `new_var'_c = 0 if `var_repl' == 4 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'           
>   
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'            
>   
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3
. }

. 
. 
. // MULTIPLE CHOICE WITH 4 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect = 2,3,4
. if  "`var_type'" == "CIII"  | ///
>         "`var_type'" == "CIIIO" | "`var_type'" == "CIIIOD" | "`var_type'" == "
> CIIIODR" | ///
>         "`var_type'" == "CIIID" | "`var_type'" == "CIIIDR" | "`var_type'" == "
> CIIIDRA" | /// 
>         "`var_type'" == "CIIIR" { 
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_re
> pl' == 4
. }

. 
. *correct = 2; incorrect = 1,3,4
. if  "`var_type'" == "ICII"  | ///
>         "`var_type'" == "ICIIO" | "`var_type'" == "ICIIOD" | "`var_type'" == "
> ICIIODR" | ///
>         "`var_type'" == "ICIID" | "`var_type'" == "ICIIDR" | "`var_type'" == "
> ICIIDRA" | ///
>         "`var_type'" == "ICIIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_r
> epl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_re
> pl' == 4
. }

. 
. *correct = 3; incorrect = 1,2,4
. if  "`var_type'" == "IICI"  | ///
>         "`var_type'" == "IICIO" | "`var_type'" == "IICIOD" | "`var_type'" == "
> IICIODR" | ///
>         "`var_type'" == "IICID" | "`var_type'" == "IICIDR" | "`var_type'" == "
> IICIDRA" | ///
>         "`var_type'" == "IICIR" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
(7,934 real changes made)
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 4
(460 real changes made)
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
(7,934 real changes made)
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 4
(460 real changes made)
. }

. 
. *correct = 4; incorrect = 1,2,3
. if  "`var_type'" == "IIIC"  | ///
>         "`var_type'" == "IIICO" | "`var_type'" == "IIICOD" | "`var_type'" == "
> IIICODR" | ///
>         "`var_type'" == "IIICD" | "`var_type'" == "IIICDR" | "`var_type'" == "
> IIICDRA" | ///
>         "`var_type'" == "IIICR" {
.         replace `new_var'_ac = 1 if `var_repl' == 4
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3
.         
.         replace `new_var'_c = 1 if `var_repl' == 4
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3
. }

. 
. *don't know (or no opinion) = 5
. if  "`var_type'" == "CIIID" | "`var_type'" == "CIIIDR" | "`var_type'" == "CIII
> DRA" | ///
>         "`var_type'" == "CIIIO" | "`var_type'" == "CIIIOD" | "`var_type'" == "
> CIIIODR" | "`var_type'" == "CIIIR" | ///
>         "`var_type'" == "ICIID" | "`var_type'" == "ICIIDR" | "`var_type'" == "
> ICIIDRA" | ///
>         "`var_type'" == "ICIIO" | "`var_type'" == "ICIIOD" | "`var_type'" == "
> ICIIODR" | "`var_type'" == "ICIIR" | ///
>         "`var_type'" == "IICID" | "`var_type'" == "IICIDR" | "`var_type'" == "
> IICIDRA" | ///
>         "`var_type'" == "IICIO" | "`var_type'" == "IICIOD" | "`var_type'" == "
> IICIODR" | "`var_type'" == "IICIR" | ///
>         "`var_type'" == "IIICD" | "`var_type'" == "IIICDR" | "`var_type'" == "
> IIICDRA" | ///
>         "`var_type'" == "IIICO" | "`var_type'" == "IIICOD" | "`var_type'" == "
> IIICODR" | "`var_type'" == "IIICR" { ///  
>         replace `new_var'_dk = 1 if `var_repl' == 5 
.         replace `new_var'_c = 0 if `var_repl' == 5 
(1,226 real changes made)
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'           
>   
(1,226 real changes made)
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'            
>   
(0 real changes made)
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
(34 real changes made)
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
(34 real changes made)
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'      
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4
(8,394 real changes made)
. }

. 
. 
. // MULTIPLE CHOICE WITH 5 POSSIBLE ANSWERS
. 
. *correct = 1; incorrect = 2,3,4,5
. if  "`var_type'" == "CIIII" | ///
>         "`var_type'" == "CIIIIO" | "`var_type'" == "CIIIIOD" | "`var_type'" ==
>  "CIIIIODR" | ///
>         "`var_type'" == "CIIIID" | "`var_type'" == "CIIIIDR" | "`var_type'" ==
>  "CIIIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 1
.         replace `new_var'_ac = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 1
.         replace `new_var'_c = 0 if `var_repl' == 2 | `var_repl' == 3 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 2; incorrect = 1,3,4,5
. if  "`var_type'" == "ICIII" |   "`var_type'" == "ICIIIA" | ///
>         "`var_type'" == "ICIIIO" | "`var_type'" == "ICIIIOD" | "`var_type'" ==
>  "ICIIIODR" | ///
>         "`var_type'" == "ICIIID" | "`var_type'" == "ICIIIDR" | "`var_type'" ==
>  "ICIIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 2
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 2
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 3 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 3; incorrect = 1,2,4,5
. if  "`var_type'" == "IICII" | ///
>         "`var_type'" == "IICIIO" | "`var_type'" == "IICIIOD" | "`var_type'" ==
>  "IICIIODR" | ///
>         "`var_type'" == "IICIID" | "`var_type'" == "IICIIDR" | "`var_type'" ==
>  "IICIIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 3
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 3
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 4 | `var_repl' == 5
. }

. 
. *correct = 4; incorrect = 1,2,3,5
. if  "`var_type'" == "IIICI" | ///
>         "`var_type'" == "IIICIO" | "`var_type'" == "IIICIOD" | "`var_type'" ==
>  "IIICIODR" | ///  
>         "`var_type'" == "IIICID" | "`var_type'" == "IIICIDR" |  "`var_type'" =
> = "IIICIDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 4
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 4
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 5
. }

. 
. *correct = 5; incorrect = 1,2,3,4
. if  "`var_type'" == "IIIIC" | ///
>         "`var_type'" == "IIIICO" | "`var_type'" == "IIIICOD" | "`var_type'" ==
>  "IIIICODR" | ///  
>         "`var_type'" == "IIIICD" | "`var_type'" == "IIIICDR" | "`var_type'" ==
>  "IIIICDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 5
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4
.         
.         replace `new_var'_c = 1 if `var_repl' == 5
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 4        
. }

. 
. *don't know (or no opinion) = 6
. if  "`var_type'" == "CIIIID" | "`var_type'" == "CIIIIDR" | "`var_type'" == "CI
> IIIDRA" | ///
>         "`var_type'" == "CIIIIO" | "`var_type'" == "CIIIIOD" | "`var_type'" ==
>  "CIIIIODR" | ///
>         "`var_type'" == "ICIIID" | "`var_type'" == "ICIIIDR" | "`var_type'" ==
>  "ICIIIDRA" | ///
>         "`var_type'" == "ICIIIO" | "`var_type'" == "ICIIIOD" | "`var_type'" ==
>  "ICIIIODR" | ///
>         "`var_type'" == "ICIIIA" | ///
>         "`var_type'" == "IICIID" | "`var_type'" == "IICIIDR" | "`var_type'" ==
>  "IICIIDRA" | ///
>         "`var_type'" == "IICIIO" | "`var_type'" == "IICIIOD" | "`var_type'" ==
>  "IICIIODR" | ///
>         "`var_type'" == "IIICID" | "`var_type'" == "IIICIDR" | "`var_type'" ==
>  "IIICIDRA" | ///
>         "`var_type'" == "IIICIO" | "`var_type'" == "IIICIOD" | "`var_type'" ==
>  "IIICIODR" | ///  
>         "`var_type'" == "IIIICD" | "`var_type'" == "IIIICDR" | "`var_type'" ==
>  "IIIICDRA" | ///
>         "`var_type'" == "IIIICO" | "`var_type'" == "IIIICOD" | "`var_type'" ==
>  "IIIICODR" {  
.         replace `new_var'_dk = 1 if `var_repl' == 6 
.         replace `new_var'_c = 0 if `var_repl' == 6 
.         
.         if  "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'     
.                 replace `new_var'_c  = 0 if `var_repl' == `dk_code'     
.         }
.         if  "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'      
>   
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code' 
.         }
.         if  "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'     
>   
.                 replace `new_var'_c  = 0 if `var_repl' == `notascer_code'     
>   
.         }
.         replace `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4 | `var_repl' == 5
. }

. 
. 
. // MULTIPLE CHOICE WITH 6 POSSIBLE ANSWERS
. *correct = 6; incorrect =1,2,3,4,5
. if  "`var_type'" == "IIIIIC" | ///
>         "`var_type'" == "IIIIICD" | "`var_type'" == "IIIIICDR" | "`var_type'" 
> == "IIIIICDRA" {
.         replace `new_var'_ac = 1 if `var_repl' == 6
.         replace `new_var'_ac = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_r
> epl' == 3 | `var_repl' == 4 | `var_repl' == 5
.         
.         replace `new_var'_c = 1 if `var_repl' == 6
.         replace `new_var'_c = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_re
> pl' == 3 | `var_repl' == 4 | `var_repl' == 5
. }

. 
. if  "`var_type'" == "IIIIIC" | ///
>         "`var_type'" == "IIIIICD" | "`var_type'" == "IIIIICDR" | "`var_type'" 
> == "IIIIICDRA" {
.         replace `new_var'_dk = 1 if `var_repl' == 7
.         replace `new_var'_c = 0 if `var_repl' == 7
.         
.         if "`refused_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `refused_code'
.                 replace `new_var'_c = 0 if `var_repl' == `refused_code'
.         }
.         if "`dk_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `dk_code'
.                 replace `new_var'_c = 0 if `var_repl' == `dk_code'
.         }
.         if "`notascer_code'" != "none" {
.                 replace `new_var'_dk = 1 if `var_repl' == `notascer_code'
.                 replace `new_var'_c = 0 if `var_repl' == `notascer_code'
.         }
.         replace  `new_var'_dk = 0 if `var_repl' == 1 | `var_repl' == 2 | `var_
> repl' == 3 | `var_repl' == 4 | `var_repl' == 5 | `var_repl' == 6
. }

. 
. 
. 
. *label for correct variables
. lab val `new_var'_c c

. notes `new_var'_c: Created from `var_repl' in `dataset' \ ki`category'`dataset
> '.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_c, m

                      | KNOWFAUCI_W68. Do you
KNOWFAUCI_W68. Do you |  happen to know who
   happen to know who |   Anthony Fauci is?
    Anthony Fauci is? | 0_Incorre  1_Correct |     Total
----------------------+----------------------+----------
Trumps personal docto |        45          0 |        45 
The head of coronavir |       348          0 |       348 
An infectious disease |         0      7,934 |     7,934 
CNN’s Chief Medical C |        67          0 |        67 
             Not sure |     1,226          0 |     1,226 
              Refused |        34          0 |        34 
----------------------+----------------------+----------
                Total |     1,720      7,934 |     9,654 

. 
. *label for attempted variables
. lab val `new_var'_ac ac

. notes `new_var'_ac: Created from `var_repl' in `dataset' \ ki`category'`datase
> t'.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_ac, m

KNOWFAUCI_W68. Do you | KNOWFAUCI_W68. Do you happen to
   happen to know who |    know who Anthony Fauci is?
    Anthony Fauci is? | 0_NoAttem  1_Attempt          . |     Total
----------------------+---------------------------------+----------
Trumps personal docto |        45          0          0 |        45 
The head of coronavir |       348          0          0 |       348 
An infectious disease |         0      7,934          0 |     7,934 
CNN’s Chief Medical C |        67          0          0 |        67 
             Not sure |         0          0      1,226 |     1,226 
              Refused |         0          0         34 |        34 
----------------------+---------------------------------+----------
                Total |       460      7,934      1,260 |     9,654 

. 
. *label for don't know variables
. lab val `new_var'_dk dk

. notes `new_var'_dk: Created from `var_repl' in `dataset' \ ki`category'`datase
> t'.do mmk $S_DATE

. noisily tab `var_repl' `new_var'_dk, m

                      | KNOWFAUCI_W68. Do you
KNOWFAUCI_W68. Do you |  happen to know who
   happen to know who |   Anthony Fauci is?
    Anthony Fauci is? |   0_knows  1_dontKno |     Total
----------------------+----------------------+----------
Trumps personal docto |        45          0 |        45 
The head of coronavir |       348          0 |       348 
An infectious disease |     7,934          0 |     7,934 
CNN’s Chief Medical C |        67          0 |        67 
             Not sure |         0      1,226 |     1,226 
              Refused |         0         34 |        34 
----------------------+----------------------+----------
                Total |     8,394      1,260 |     9,654 

. 
. label var `new_var'_c "correct, including don't knows: Anthony Fauci is an inf
> ectious disease expert & govt. adviser"
note: label truncated to 80 characters

. label var `new_var'_ac "correct, given attempted: Anthony Fauci is an infectio
> us disease expert & govt. adviser"
note: label truncated to 80 characters

. label var `new_var'_dk "Not sure - Anthony Fauci is an infectious disease expe
> rt & govt. adviser"

. 
. ***-----------------------------***
. // SAVE DATA    
. ***-----------------------------***
. 
. label data "`dataset' Knowledge variables"

. notes: ckn`category'`dataset'.dta \ `dataset' with recoded knowledge variables
>  \ ckn`category'`dataset'.do mmk $$_DATE

. compress
  (0 bytes saved)

. datasignature set, reset
  9654:189(34114):2215939867:1041790129       (data signature reset)

. save $deriv/ckn`category'`dataset'.dta, replace
file ~/Documents/SocResearch/COVID_Knowledge_News/data/data_derv/ckn03_know01_Pe
> wJune2020.dta saved

. 
. ***--------------------------***
. 
. log close ckn`category'`dataset'
      name:  ckn03_know01_PewJune2020
       log:  /Users/mmking/Documents/SocResearch/COVID_Knowledge_News/covid_know
> ledge_news/stata/ckn03_know01_PewJune2020.log
  log type:  text
 closed on:  20 Mar 2023, 13:13:56
--------------------------------------------------------------------------------
